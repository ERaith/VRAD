(this.webpackJsonpvrad_front_end=this.webpackJsonpvrad_front_end||[]).push([[0],{26:function(e,t,a){e.exports=a(39)},31:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(22),o=a.n(i),s=(a(31),a(25)),c=a(7),l=a(9),u=a.n(l),m=a(16),g=a(10),f=a(11),p=a(12),v=a(13),h=a(15),d=a(2),E=RegExp(/^(([^<>()\[\]\.,;:\s@\']+(\.[^<>()\[\]\.,;:\s@\']+)*)|(\'.+\'))@(([^<>()[\]\.,;:\s@\']+\.)+[^<>()[\]\.,;:\s@\']{2,})$/i),b=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).handleChange=function(t){t.preventDefault();var a=t.target,n=a.name,r=a.value,i=e.state.errors;switch(n){case"name":i.name=r.length<5?"User Name must be 5 characters long!":"";break;case"email":i.email=E.test(r)?"":"Email is not valid!";break;case"purpose":i.purpose="default"===r?"Choose Reason for Traveling.":""}e.setState(Object(h.a)({errors:i},n,r))},e.handleSubmit=function(){if(e.validateForm(e.state.errors)){var t=e.state,a=t.name,n=t.email,r=t.purpose;e.props.login({name:a,email:n,purpose:r})}else console.error("Invalid Form")},e.validateForm=function(){var t=e.state,a=t.errors,n=t.name,r=t.email;return 0===a.email.length&&0===a.name.length&&""!==n&&""!==r&&0===a.purpose.length},e.state={name:"",email:"",purpose:"",errors:{name:"",email:"",purpose:"default"}},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.errors,n=t.name,i=t.email,o=t.purpose,s=this.validateForm();return r.a.createElement("form",null,r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("span",{className:"error"},a.name),r.a.createElement("input",{type:"text",placeholder:"User Name",name:"name",value:n,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("span",{className:"error"},a.email),r.a.createElement("input",{type:"text",placeholder:"Email@provider.com",name:"email",value:i,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("div",{className:"input-wrapper"},r.a.createElement("select",{name:"purpose","aria-label":"purpose of travel",value:o,onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{value:"default"},"Select a Purpose"),r.a.createElement("option",{value:"buisness"},"Buisness"),r.a.createElement("option",{value:"vacation"},"Vaction"),r.a.createElement("option",{value:"other"}," Other"))),r.a.createElement(d.b,{to:"/areas"},r.a.createElement("button",{disabled:!s,onClick:this.handleSubmit},"Login")))}}]),a}(n.Component),L=function(e){var t=e.isLoggedIn,a=e.toggleLogin,n={isLoggedIn:!1,userInfo:{name:"",email:"",purpose:"",favoriteLocations:[]},listings:[],currentView:"Login"};return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},"VRAD"),t&&r.a.createElement(d.b,{to:"/",onClick:function(){return a(n)}},"Log Out"))},N=function(){return r.a.createElement("footer",null,r.a.createElement("p",null,"Built by:",r.a.createElement("span",null,"Erik Raith |"," ",r.a.createElement("a",{href:"https://github.com/ERaith",target:"_blank",rel:"noopener noreferrer"},"@github/ERaith")),r.a.createElement("span",null,"Harry Borrelli |"," ",r.a.createElement("a",{href:"https://github.com/hborrelli1",target:"_blank",rel:"noopener noreferrer"},"@github/hborrelli1"))))},k=(a(38),a(6)),w=function(e){var t=e.userInfo,a=e.goToFavRentals,n=e.pathName,i=t.name,o=t.email,s=t.purpose,c=t.favoriteLocations,l="Select from the following areas to find the perfect location for your ".concat(s," trip!");return r.a.createElement("div",{className:"user-profile"},r.a.createElement("div",{className:"welcome-header"},r.a.createElement("h3",null,"Welcome, ".concat(i,"!")),r.a.createElement("p",{className:"greeting"},l),r.a.createElement("p",{className:"email"},o)),r.a.createElement("div",{className:"user-meta"},r.a.createElement("h4",null,"Reason for visiting:"),r.a.createElement("p",{className:"purpose"},s),r.a.createElement(d.b,{to:n.includes("areas/favorites")?"/favorites":n.includes("favorites")?"/areas":"/favorites"},r.a.createElement("button",{className:n.includes("favorites")?"favorite-button-active":"favorite-button-inactive",onClick:a},"Favorited Rentals ",r.a.createElement("span",null,c.length)))),r.a.createElement("div",null))},j=function(e){var t=e.areaInfo,a=e.changeView,n=t.name!==t.nickName?"".concat(t.name," - (").concat(t.nickName,")"):t.name,i="View ".concat(t.listings.length," Listings in ").concat(t.nickName),o=t.name.toLowerCase().split(" ").join("-");return r.a.createElement("div",{className:"area-card"},r.a.createElement("div",{className:"info"},r.a.createElement("h4",null,n),r.a.createElement("p",{className:"location"},t.location),r.a.createElement("p",null,t.about)),r.a.createElement(d.b,{to:"/areas/".concat(o),onClick:function(){return a("LocationContainer",t.details,t.listings)}},r.a.createElement("button",null,i)))},T=function(e){var t=e.areas,a=e.changeView,n=t.map((function(e){return r.a.createElement(j,{key:e.name,areaInfo:e,changeView:a})}));return r.a.createElement("div",{className:"area-container"},n)},O="https://vrad-api-eraith.herokuapp.com",I=function(e){var t=e.listingData,a=t.address,n=t.name,i=t.listing_id,o=e.isFavorite,s=e.areaName,c=n.toLowerCase().split(" ").join("-");return r.a.createElement("article",{className:"card"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:"".concat("/images/"+i,"_a.jpg"),alt:n+"Image"})),r.a.createElement("div",{className:"info-container"},r.a.createElement("h2",{className:"card-heading","aria-label":n},n),r.a.createElement("h3",{"aria-label":a.street},a.street),r.a.createElement("div",{className:"button-wrap"},r.a.createElement("button",{className:"".concat(o(i)),onClick:function(){return e.favorite(i)}},"".concat(o(i))),r.a.createElement(d.b,{to:"/areas/".concat(s,"/").concat(c),onClick:function(){return e.goToListing(e.listingData,"LocationListingCard")}},r.a.createElement("button",null,"Go to Listing")))))},F=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.setState({listingData:e.props.listings})},e.componentDidUpdate=function(t){e.props.listings!==t.listings&&e.setState({listingData:e.props.listings})},e.state={listingData:[]},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state.listingData,t=this.props,a=t.favorite,n=t.isFavorite,i=t.goToListing,o=t.favoriteLocations,s=t.areaName,c=t.isLoading;return r.a.createElement("section",{className:"location-conatiner"},0!==e.length?e.map((function(e){return r.a.createElement(I,{areaName:s,favorite:a,isFavorite:n,key:e.listing_id,listingData:e,goToListing:i,favoriteLocations:o})})):0===e.length&&!c&&r.a.createElement("div",{className:"not-found"},"You do not have any favroites yet",r.a.createElement("img",{src:"".concat("/images/","NothingToSee.jpg"),alt:"No Listings Found"})))}}]),a}(r.a.Component),S=function(e){var t=e.currentListing,a=e.favorite,n=e.isFavorite,i=t.listing_id,o=t.name,s=t.address,c=t.details,l=t.area,u=0,m=c.features.map((function(e){var t=r.a.createElement("li",{key:u},e);return u++,t}));return r.a.createElement("div",{className:"location-listing-card"},r.a.createElement("div",{className:"location-images"},r.a.createElement("img",{src:"/images/"+i+"_a.jpg",alt:o+" image"}),r.a.createElement("img",{src:"/images/"+i+"_b.jpg",alt:o+" image"}),r.a.createElement("img",{src:"/images/"+i+"_c.jpg",alt:o+" image"})),r.a.createElement("div",{className:"listing-details"},r.a.createElement("div",{className:"location-info"},r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,o),r.a.createElement("p",{className:"area"},l),r.a.createElement("p",{className:"address"},"Address: ",r.a.createElement("span",null,s.street,", ",s.zip))),c.superhost&&r.a.createElement("p",{className:"super-host"},"SUPERHOST")),r.a.createElement("div",{className:"fav-button"},r.a.createElement("button",{className:"".concat(n(i)),onClick:function(){return a(i)}},n(i))),r.a.createElement("div",{className:"meta"},r.a.createElement("div",{className:"info"},r.a.createElement("p",null,"Cost Per Night: ",r.a.createElement("span",null,"$",c.cost_per_night)),r.a.createElement("p",null,"Number of Beds: ",r.a.createElement("span",null,c.beds)),r.a.createElement("p",null,"Number of Bathrooms: ",r.a.createElement("span",null,c.baths))),r.a.createElement("div",{className:"features"},r.a.createElement("p",null,r.a.createElement("span",null,"Features:")),r.a.createElement("ul",null,m)))))},C=function(e){return r.a.createElement("nav",null,r.a.createElement("ul",{style:{listStyleType:"none",padding:0}},function(){var t=e.path.split("/");t.shift();var a=(t=t.reduce((function(e,t,a){if(0===a)e.paths.push({path:t,link:"/areas",linkText:t});else if("favorites"===t)e.paths=[{path:"favorites",link:"/".concat(t),linkText:t}];else{var n=e.prevPath+"/"+t;e.paths.push({path:n,link:"/areas/".concat(t),linkText:t})}var r=e.paths.length-1;return e.prevPath=e.paths[r].path,e}),{prevPath:"",paths:[]})).paths.map((function(e){return{routeHTML:r.a.createElement("li",{key:e.link},r.a.createElement(d.b,{to:e.link},e.linkText)),endrouteHTML:r.a.createElement("li",{key:"s"},e.linkText)}})),n=t.paths.length-1;return a.reduce((function(e,t,a){return a<n?e.push(t.routeHTML,"/"):e.push(t.endrouteHTML),e}),[])}()))},y=function(e){var t=e.userInfo,a=e.areas,n=e.goToFavRentals,i=e.goToListing,o=e.favorite,s=e.isFavorite,c=e.listings,l=e.changeView,u=e.currentListing,m=e.favoriteListingData,g=e.isLoading,f=t.favoriteLocations;return r.a.createElement("div",{className:"dashboard"},r.a.createElement(k.b,{path:"/",render:function(e){var t=e.location;return r.a.createElement(C,{path:t.pathname})}}),r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(k.b,{render:function(e){var a=e.location;return r.a.createElement(w,{userInfo:t,goToFavRentals:n,pathName:a.pathname})}}),r.a.createElement(k.d,null,0!==a.length&&r.a.createElement(k.b,{exact:!0,path:"/areas/",render:function(){return r.a.createElement(T,{areas:a,changeView:l})}}),0==a.length&&r.a.createElement(k.b,{exact:!0,path:"/areas/",render:function(){return r.a.createElement("div",{className:"not-found"},"Oops we ran into some issues getting your data.",r.a.createElement("img",{src:"".concat("/images/","NothingToSee.jpg"),alt:"No Listings Found"}))}}),r.a.createElement(k.b,{exact:!0,path:"/favorites",render:function(){return r.a.createElement(F,{areaName:"favorites",isLoading:g,goToListing:i,favorite:o,isFavorite:s,listings:m,favoriteLocations:f})}}),r.a.createElement(k.b,{exact:!0,path:"/areas/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(F,{areaName:t,isLoading:g,goToListing:i,favorite:o,isFavorite:s,listings:c,favoriteLocations:f})}}),r.a.createElement(k.b,{exact:!0,path:"/areas/:areaName/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(S,{favorite:o,isFavorite:s,currentListing:u,areaName:t})}}))))},x=function(e){if(0===e.length)return[];var t=e.map((function(e){return fetch(O+e).then((function(e){return e.json()})).then((function(e){return Object(c.a)({},e)})).catch((function(e){return e}))}));return Promise.all(t)},D=function(e){var t=e.areas.map((function(e){var t=e.details;return fetch(O+t).then((function(e){return e.json()})).then((function(t){return Object(c.a)({nickName:e.area,details:e.details},t)}))}));return Promise.all(t)},_=function(e){Object(v.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).componentDidMount=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(O+"/api/v1/areas").then((function(e){return e.json()})).then((function(e){return D(e)})).catch((function(e){return[]}));case 2:a=t.sent,e.setState({areas:a});case 4:case"end":return t.stop()}}),t)}))),e.login=function(t){var a=e.state.userInfo;e.setState({userInfo:Object(c.a)({},a,{},t),isLoggedIn:!0})},e.changeView=function(){var t=Object(m.a)(u.a.mark((function t(a,n,r){var i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.next=3,x(r);case 3:i=t.sent,e.setState({listings:i}),e.setState({isLoading:!1});case 6:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),e.goToFavRentals=Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),a=e.state.userInfo.favoriteLocations,t.next=4,x(a);case 4:n=t.sent,e.setState({favoriteListingData:n}),e.setState({isLoading:!1});case 7:case"end":return t.stop()}}),t)}))),e.goToListing=function(t,a){e.setState({currentView:a,currentListing:t})},e.favorite=function(t){var a,n=e.state.userInfo.favoriteLocations,r=e.state.favoriteListingData;if(n.includes("/api/v1/listings/".concat(t))){var i=n.filter((function(e){return e!=="/api/v1/listings/".concat(t)}));r=r.filter((function(e){return e.listing_id!==t})),a=Object(c.a)({},e.state.userInfo,{favoriteLocations:i})}else a=Object(c.a)({},e.state.userInfo,{favoriteLocations:[].concat(Object(s.a)(n),["/api/v1/listings/".concat(t)])});e.setState({userInfo:a,favoriteListingData:r})},e.isFavorite=function(t){return e.state.userInfo.favoriteLocations.includes("/api/v1/listings/".concat(t))?"favorite":"add-to-favorites"},e.toggleLogin=function(t){return e.setState(Object(c.a)({},t)),r.a.createElement(k.a,{to:"/login"})},e.state={isLoggedIn:!1,userInfo:{name:"",email:"",purpose:"",favoriteLocations:[]},areas:[],listings:[],currentListing:{},favoriteListingData:[],isLoading:!1},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.state,t=e.areas,a=e.currentListing,n=e.favoriteListingData,i=e.isLoading,o=e.isLoggedIn,s=e.listings,c=e.userInfo;return r.a.createElement("main",{className:"App"},o?r.a.createElement(k.a,{to:"/areas"}):r.a.createElement(k.a,{to:"/login"}),r.a.createElement(L,{isLoggedIn:o,toggleLogin:this.toggleLogin}),o&&r.a.createElement(k.b,{path:"/"},r.a.createElement(y,{areas:t,changeView:this.changeView,currentListing:a,favorite:this.favorite,favoriteListingData:n,goToFavRentals:this.goToFavRentals,goToListing:this.goToListing,isFavorite:this.isFavorite,isLoading:i,listings:s,userInfo:c})),r.a.createElement(k.b,{path:"/login"},r.a.createElement(b,{login:this.login})),r.a.createElement(N,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d.a,null,r.a.createElement(_,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.4500b359.chunk.js.map